# Сборка загрузчика

{{#include pkgs/u-boot.md}}

```admonish warning title="Внимание"
Этот раздел содержит **общие** инструкции по сборке загрузчика. Поскольку сборка U-Boot специфична как для каждого SoC, так и, возможно, для разных плат/компьютеров, использующих эти SoC, в LFA очень тяжело описать сценарии сборки для каждой модели популярных ARM-компьютеров. Для получения подробных сведений о загрузчике U-Boot, пожалуйста, обратитесь к [**его документации**](https://docs.u-boot.org/en/latest/).

> В [Дополнительных материалах](../additional/u-boot/index.md) приведены некоторые переведённые из официальной документации сведения, которые могут пригодиться во время сборки загрузчика и написания скриптов для загрузки ядра операционной системы. Перед началом сборки U-Boot рекомендуем ознакомиться с ними.

Кроме того, работа над этим разделом ещё идёт. Вы можете оказать нам неоценимую помощь, если дополните его новыми инструкциями. В частности, нужны сведения о файлах `boot.scr`, `boot.cmd` и `uInitrd`, а также информация о сборке `img`-образа с системой. Если вы готовы помочь нам, то можете либо создать [**issue**](https://github.com/Linux-for-ARM/handbook/issues/new) с предложениями изменений, либо pull request с изменениями.
```

## Примерный порядок сборки

Для большинства SoC перед сборкой U-Boot необходимо иметь скомпилированные дополнительные компоненты. Например, ARM Trusted Firmware. Для того, чтобы узнать, что и как нужно собирать, обратитесь к [**документации (раздел «Board-specific docs»)**](https://docs.u-boot.org/en/latest/board/index.html) загрузчика U-Boot. Далее предоставлены общие инструкции для сборки загрузчика для плат, оснащённых Allwinner, Broadcom и Rockchip SoC.

В итоге примерный порядок сборки будет следующим:

1. Сборка ряда компонентов загрузчика, таких как, например, TF-A, `crust` или `rkbin`;
2. Сборка загрузчика;
3. Создание файлов `boot.scr`, `boot.cmd`, `uInitrd`;
4. Сохранение файла загрузчика для его записи на флешку или в `img`-образ с собранной системой LFA;

---

> **Смотрите также:**
>
> - [**Getting started with U-Boot**](https://krinkinmu.github.io/2023/08/12/getting-started-with-u-boot.html) (<https://krinkinmu.github.io>)
> - [**How U-boot loads Linux kernel**](https://krinkinmu.github.io/2023/08/21/how-u-boot-loads-linux-kernel.html) (<https://krinkinmu.github.io>)
> - [**U-boot boot script**](https://krinkinmu.github.io/2023/11/19/u-boot-boot-script.html) (<https://krinkinmu.github.io>)
